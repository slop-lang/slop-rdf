[project]
name = "slop-rdf"
version = "0.1.0"
entry = "src/rdf.slop"

[build]
output = "build/slop_rdf.a"
sources = ["src", "src/parse"]
include = ["src"]
type = "static"
debug = false

[test]
sources = ["src"]
pattern = "*.slop"

[verify]
sources = ["src", "src/parse"]
pattern = "*.slop"
timeout = 5000

[build.link]
libraries = []
library_paths = []
# OpenRouter - access many models through one API
[providers.openrouter]
type = "openai-compatible"
base_url = "https://openrouter.ai/api/v1"
api_key = "${OPENROUTER_API_KEY}"

# Interactive provider - routes to Claude Code, Cursor, or Aider
[providers.claude-code]
type = "interactive"
command = "claude"
mode = "clipboard"

# ============================================================================
# TIERS
# Configure which provider and model to use for each complexity tier.
# Holes are classified by complexity and routed to the appropriate tier.
# ============================================================================

[tiers.tier-1]
# Simple: boolean expressions, arithmetic, field access
provider = "openrouter"
model = "anthropic/claude-haiku-4.5"

[tiers.tier-2]
# Moderate: conditionals, Result construction, simple transforms
provider = "openrouter"
model = "anthropic/claude-sonnet-4.5"

[tiers.tier-3]
# Complex: loops, multiple conditionals, state manipulation
provider = "openrouter"
model = "anthropic/claude-sonnet-4.5"
context_length = 8192
temperature = 0.5

[tiers.tier-4]
# Advanced: algorithms, state machines, complex logic
provider = "openrouter"
model = "anthropic/claude-opus-4.5"
context_length = 128000
temperature = 0.6

# ============================================================================
# ROUTING
# Control how holes are routed and retried across tiers.
# ============================================================================

[routing]
max_retries = 2
escalate_on_failure = true
